protect
	blendOps
	depthWrite
	depthFunc
	cull
	fill
	
local	tex		BG_terrain		default_white
local	tex		BG_night		default_black
local	tex		BG_enviro		default_black
local	tex		BG_normal		default_normal

local	float4		BG_MoodLight	0	0	0	0
local	float3		BG_MoodDir		0	0	0
local	float4		BG_AtmoInfo		0.025	0.775	2.5		2.5
local	float2		BG_AtmoFade		1.0		1.0
local	float2		BG_ScatterInfo	0.5		0.5
local	float4		BG_LightScales	0.2		0.1		1.0		0.35
local	float3		BG_HaloKeySurf		0.8		0.45	0.23
local	float3		BG_HaloFillSurf		0.85	0.5		0.65
local	float4		BG_SurfDiff		0		0.75	0		0		// 0, Fren
local	float4		BG_SurfGlow		1.0		0.75	0.3		4.0		// Power, Fren, Key Offset, Scale
local	float4		BG_SurfSpec		1.0		1.0		0		0		// Power, Fren
local	float4		BG_SurfGloss		0.1		125		30		0		// Curve, Scale, Bias
local	float4		BG_SurfRefl		0.5		0.55	0.65	0		// Power, Fren, Add Mix
local	float4		BG_SurfFren		1.0		1.01	2.5				// Power, Bias, Curve
local	float4		BG_FinalGama	1.0		1.0		1.0		1.0
local	float3		BG_ReliefScale	1.0		1.0		1.0

layer
	program bg_moon
	
	blendOps one zero
	depthWrite 1
	depthFunc less
	cull back
	fill poly
	
	alias	BG_terrain	inTexTerrain
	alias	BG_night	inTexNight
	alias	BG_enviro	inTexEnviro
	alias	BG_normal	inTexNormal

	alias	BG_MoodLight		inMoodLight
	alias	BG_MoodDir			inMoodDir
	alias	BG_AtmoInfo			inAtmoInfo
	alias	BG_AtmoFade			inAtmoFade
	alias	BG_ScatterInfo		inScatterInfo
	alias	BG_LightScales		inLightScales
	alias	BG_HaloKeySurf		inHaloKeySurf
	alias	BG_HaloFillSurf		inHaloFillSurf
	alias	BG_SurfDiff			inSurfDiff
	alias	BG_SurfGlow			inSurfGlow
	alias	BG_SurfSpec			inSurfSpec
	alias	BG_SurfGloss		inSurfGloss
	alias	BG_SurfRefl			inSurfRefl
	alias	BG_SurfFren			inSurfFren
	alias	BG_FinalGama		inFinalGama
	alias	BG_ReliefScale		inReliefScale
	