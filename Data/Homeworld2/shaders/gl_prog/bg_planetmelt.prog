#import bg_share.imp
add		vert_text		#version 330
add		vert_text		#define USE_CLOUDS
add		vert_text		#define	USE_MELT
add		vert_script		bg_planet.vert
add		frag_text		#define USE_CLOUDS
add		frag_text		#define USE_MELT
add		frag_script		bg_planet.frag
compile

// Vertex Buffer input mappings
input	pos norm tan binorm uv

// Matrix stack uniform mappings
matrix	modelview	inMatMV
matrix	camera		inMatC
matrix	projection	inMatP

local	tex			inTexTerrain		0
local	tex			inTexNight			1
local	tex			inTexEnviro			2
local	tex			inTexNormal			3
local	tex			inTexClouds			4
local	tex			inTexWarp			5
local	tex			inTexEnv0			6
local	tex			inTexEnv1			7
local	tex			inTexScorched		8
local	tex			inTexBurn			9


// Globals to uniform mappings
global	bgSensorsFade		inFade
global	bgAddLight			inAddLight
global	bgBackExps			inBackExps
global	timeTable			inTime
global	lightCore			inLightCore

// Scale Push, Dot Falloff, Key Curve, Fill Curve
local	float4		inAtmoInfo		0.025	0.775	2.5		2.5

// Curve, Alpha
local	float2		inAtmoFade		1.0		1.0

// Scatter scale, curve
local	float2		inScatterInfo	0.5		0.5

// Surface Ambient, Cloud Ambient, Key, Fill
local	float4		inLightScales	0.2		0.1		1.0		0.35

// Halo & Scatter colors
local	float3		inHaloKeySurf		0.8		0.45	0.23
local	float3		inHaloKeyCloud		0.85	0.65	0.43
local	float3		inHaloFillSurf		0.85	0.5		0.65
local	float3		inHaloFillCloud		0.92	0.75	0.83

// Speed XY - Warp Scale XY
local	float4		inMoveCloud1	-0.0083		0		0.025	0.025
local	float4		inMoveCloud2	-0.006		0		0.04	0.04
local	float4		inMoveCloud3	-0.0047		0		0.05	0.05
local	float3		inTintCloud1	1		1		1
local	float3		inTintCloud2	1		1		1
local	float3		inTintCloud3	1		1		1
local	float2		inMoveWarp		0.02		0

local	float4		inSurfDiff		0		0.75	0		0		// 0, Fren
local	float4		inSurfGlow		1.0		0.75	0.3		4.0		// Power, Fren, Key Offset, Scale
local	float4		inSurfSpec		1.0		1.0		0		0		// Power, Fren
local	float4		inSurfGloss		0.1		125		30		0		// Curve, Scale, Bias
local	float4		inSurfRefl		0.5		0.55	0.65	0		// Power, Fren, Add Mix
local	float4		inSurfFren		1.0		1.01	2.5				// Power, Bias, Curve

local	float4		inTrigger		0.0		0.0		0.0		0.0
local	float		inTimeScale		0.0

local	float4		inFinalGama		1.0		1.0		1.0		1.0
local	float3		inReliefScale	1.0		1.0		1.0